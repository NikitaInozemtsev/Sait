<!DOCTYPE html>
<html>
<head>
	<title>12</title>
</head>
<body>

<ul class="tree" id="tree">
   <li>1
      <ul>
         <li>1.1
            <ul>
               <li>1.1.1</li>
            </ul>
         </li>
         <li>1.2
            <ul>
               <li>1.2.1</li>
            </ul>
         </li>
      </ul>
   </li>
   <li>2
      <ul>
         <li>2.1
            <ul>
               <li>2.1.1</li>
               <li>2.1.2</li>
               <li>2.1.3</li>
            </ul>
         </li>
         <li>2.2
            <ul>
               <li>2.2.1</li>
               <li>2.2.2</li>
            </ul>
         </li>
      </ul>
   </li>
</ul>


<script type="text/javascript">

	for (let i of tree.querySelectorAll('li')) {
	   let span = document.createElement('span')
	   i.prepend(span)
	   span.append(span.nextSibling)
	}

	tree.onclick = function (event) {
	   if (event.target.tagName !== 'SPAN')
	      return
	   let childrenContainer = event.target.parentNode.querySelector('ul')
	   if (!childrenContainer)
	      return
	   childrenContainer.hidden = !childrenContainer.hidden
	}

</script>

</body>
</html>